<div class="flex gap-2 flex-col p-1 items-center">
  <div class="flex flex-row items-center justify-between w-11/12">
    <span>{{ currentTime | validDuration }}</span>
    <app-slide-bar
      class="relative w-full p-4"
      [progression]="progression"
      (update)="changeProgression($event)"
    ></app-slide-bar>
    <span>{{ duration || 0 | validDuration }}</span>
  </div>
  <div class="flex gap-1 flex-row w-fit items-center">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      (click)="prevMusicEvent.emit()"
      class="w-8 h-8 cursor-pointer"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M21 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953l7.108-4.062A1.125 1.125 0 0121 8.688v8.123zM11.25 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953L9.567 7.71a1.125 1.125 0 011.683.977v8.123z"
      />
    </svg>
    <div (click)="changeMusicState()">
      <div *ngIf="musicPaused; then pause_svg; else play_svg"></div>
    </div>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      (click)="nextMusicEvent.emit()"
      stroke="currentColor"
      class="w-8 h-8 cursor-pointer"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.81V8.688zM12.75 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062a1.125 1.125 0 01-1.683-.977V8.688z"
      />
    </svg>
  </div>
</div>

<ng-template #play_svg
  ><svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    strokeWidth="{1.5}"
    stroke="currentColor"
    class="w-8 h-8 cursor-pointer"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      d="M15.75 5.25v13.5m-7.5-13.5v13.5"
    />
  </svg>
</ng-template>

<ng-template #pause_svg
  ><svg
    xmlns="http://www.w3.org/2000/svg"
    fill="none"
    viewBox="0 0 24 24"
    strokeWidth="{1.5}"
    stroke="currentColor"
    class="w-8 h-8 cursor-pointer"
  >
    <path
      strokeLinecap="round"
      strokeLinejoin="round"
      fill="black"
      d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"
    />
  </svg>
</ng-template>
