<div class="p-12 text-gray-100 flex flex-col gap-6 max-w-4xl m-auto">
  <div class="py-4 flex flex-row gap-6">
    <div *ngIf="musicInfo; else music_img" class="w-32 h-32 bg-red-500 font-bold rounded-lg grid place-items-center">
      <span class="text-8xl">
        {{musicInfo.title[0] | uppercase}}
      </span>
    </div>
    <div class="flex flex-col gap-2">
      <span *ngIf="musicInfo; else big_line" class="text-4xl">
        {{musicInfo.title}}
      </span>
      <span *ngIf="musicInfo; else small_line" class="text-xl">
        By <a class="hover:rounded-lg p-1.5 hover:bg-gray-500 cursor-pointer" *ngFor="let artist of musicInfo.artists"
          [routerLink]="['/artists', artist.artistID]">{{artist.name}}</a>
      </span>
      <span *ngIf="musicInfo; else small_line" class="text-xl">
        In {{genreFormat}}
      </span>
    </div>
  </div>

  <div class="py-4 text-center w-full bg-blue-600 rounded-lg hover:font-bold cursor-pointer" (click)="play()">
    <span class="w-full text-xl">
      Play
    </span>
  </div>

  <div class="flex flex-col gap-4 w-full">
    <app-comment *ngFor="let comment of comments" [comment]="comment"></app-comment>
    <div *ngIf="authService.isLoggedIn()" class="flex flex-col gap-2 w-full">
      <textarea ngDefaultControl [(ngModel)]="commentContent" class="text-gray-900 rounded-lg outline-none p-2"
        placeholder="Write some comment about this music ..."></textarea>
      <div class="py-2 text-center w-full bg-blue-600 rounded-lg hover:font-bold cursor-pointer"
        (click)="publishComment()">
        <span class="w-full text-md">
          Publish
        </span>
      </div>
    </div>
  </div>
</div>

<ng-template #music_img>
  <div class="w-32 h-32 animate-pulse bg-gray-500 rounded-lg"></div>
</ng-template>

<ng-template #big_line>
  <div class="w-32 h-6 animate-pulse bg-gray-500 rounded-lg"></div>
</ng-template>

<ng-template #small_line>
  <div class="w-48 h-4 animate-pulse bg-gray-500 rounded-lg"></div>
</ng-template>
